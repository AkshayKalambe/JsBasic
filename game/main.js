let image= "data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUwIDYwIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGlkPSJQYWdlLTEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgaWQ9IjAwMS0tLUplcnJ5LUNhbiIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBpZD0iU2hhcGUiIGQ9Im00MiAxMmgtMTljLS42MTIwMjg2LjAxODM2NzEtMS4yMDQzNzE0LjIyMDQ2MDUtMS43LjU4LS4wNDUxNjA2LjAzMDg4ODEtLjA4ODU2MTQuMDY0MjczMy0uMTMuMWwtOS4wNyA3LjQyYy0uMTE3MjE2Mi4wOTg5NjQtLjIyNzQ3NzEuMjA1ODgzNi0uMzMuMzItLjQ5NzIxNzYuNTQ3MjQxNy0uNzcxODY1IDEuMjYwNjExNS0uNzcgMnYzMy41OGMwIDEuNjU2ODU0MiAxLjM0MzE0NTggMyAzIDNoMzJjMS42NTY4NTQyIDAgMy0xLjM0MzE0NTggMy0zdi0zNXptMiA0MWMwIC41NTIyODQ3LS40NDc3MTUzIDEtMSAxaC0yNmMtLjU1MjI4NDcgMC0xLS40NDc3MTUzLTEtMXYtMjZjMC0uNTUyMjg0Ny40NDc3MTUzLTEgMS0xaDI2Yy41NTIyODQ3IDAgMSAuNDQ3NzE1MyAxIDF6IiBmaWxsPSIjZjQ0MzM1Ii8+PHBhdGggaWQ9IlNoYXBlIiBkPSJtNDIgMTJoLTNsNyA5djM1YzAgMS42NTY4NTQyLTEuMzQzMTQ1OCAzLTMgM2gzYzEuNjU2ODU0MiAwIDMtMS4zNDMxNDU4IDMtM3YtMzV6IiBmaWxsPSIjYzgxZTFlIi8+PHBhdGggaWQ9IlNoYXBlIiBkPSJtNDkgOS41djExLjVsLTctOXYtMi41YzAtMS4zODA3MTE4Ny0xLjExOTI4ODEtMi41LTIuNS0yLjVoLTljLTEuMzgwNzExOSAwLTIuNSAxLjExOTI4ODEzLTIuNSAyLjV2Mi41aC01di0yLjVjMC00LjE0MjEzNTYyIDMuMzU3ODY0NC03LjUgNy41LTcuNWgxMWM0LjE0MjEzNTYgMCA3LjUgMy4zNTc4NjQzOCA3LjUgNy41eiIgZmlsbD0iI2ZmOTgwMSIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTQxLjUgMmgtM2M0LjE0MjEzNTYgMCA3LjUgMy4zNTc4NjQzOCA3LjUgNy41djcuNjQzbDMgMy44NTd2LTExLjVjMC00LjE0MjEzNTYyLTMuMzU3ODY0NC03LjUtNy41LTcuNXoiIGZpbGw9IiNmNTdjMDAiLz48cmVjdCBpZD0iUmVjdGFuZ2xlLXBhdGgiIGZpbGw9IiNmZjU3MjIiIGhlaWdodD0iMjgiIHJ4PSIxIiB3aWR0aD0iMjgiIHg9IjE2IiB5PSIyNiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTQzIDI2aC0zYy41NTIyODQ3IDAgMSAuNDQ3NzE1MyAxIDF2MjZjMCAuNTUyMjg0Ny0uNDQ3NzE1MyAxLTEgMWgzYy41NTIyODQ3IDAgMS0uNDQ3NzE1MyAxLTF2LTI2YzAtLjU1MjI4NDctLjQ0NzcxNTMtMS0xLTF6IiBmaWxsPSIjZDg0MzE1Ii8+PHBhdGggaWQ9IlNoYXBlIiBkPSJtMTUuOSAxMC45NS00LjgxIDQuMTItLjAxLjAxYy0uNzUtLjk4LTEuNTYtMS45Ni0yLjQ0LTIuOTctLjI0LS4yNy0uNDgtLjUzLS43Mi0uNzktMS4wNC0xLjEyLTIuMDUtMi4xMi0zLjA2LTMuMDItLjIyLS4yLS40Ny0uNDEtLjcyLS42My0uODM5NjI2MDMtLjcyNzYxMTkxLTEuNzIxMTM0NDctMS40MDU0Mzg0Ny0yLjY0LTIuMDMtLjQ0MjEwNDQ5LS4yODI2NDcxNC0uNTkwNTQ0NDEtLjg1ODk0MzMtLjM0LTEuMzJsMS40Ny0yLjcxYy4yNjAyMTM3Ni0uNDc5MTA1NzMuODU2MjUwMzEtLjY2MTQ3NTEyIDEuMzQtLjQxIDEuMjgxMTExMDMuNzA1NDQ0ODQgMi41MTY4NTU2OCAxLjQ5MDMwOTY5IDMuNyAyLjM1LjIzLjE3LjQ1LjM0LjY2LjQ5IDEuMzQgMSAyLjY2IDIuMTEgNC4wNSAzLjM4LjE4LjE3LjM3LjM0LjU2LjUyIDEuMDYgMSAyLjA1IDIuMDEgMi45NiAzLjAxeiIgZmlsbD0iIzYwN2Q4YiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTEyLjk0IDcuOTRjLS4xOS0uMTgtLjM4LS4zNS0uNTYtLjUyLTEuMzktMS4yNy0yLjcxLTIuMzgtNC4wNS0zLjM4LS4yMS0uMTUtLjQzLS4zMi0uNjYtLjQ5LTEuMTgzMTQ0MzItLjg1OTY5MDMxLTIuNDE4ODg4OTctMS42NDQ1NTUxNi0zLjctMi4zNS0uNDgzNzQ5NjktLjI1MTQ3NTEyLTEuMDc5Nzg2MjQtLjA2OTEwNTczLTEuMzQuNDFsLS4yMy40MjVjLjgyNy41MTEgMS42IDEuMDMzIDIuMjcgMS41MTUuMjMuMTcuNDUuMzQuNjYuNDkgMS4zNCAxIDIuNjYgMi4xMSA0LjA1IDMuMzguMTguMTcuMzcuMzQuNTYuNTIgMS4wNiAxIDIuMDUgMi4wMSAyLjk2IDMuMDFsLTMuMDM3IDIuNmMuNDIyLjUxMi44Mjc2NjY3IDEuMDIxMzMzMyAxLjIxNyAxLjUyOGwuMDEtLjAxIDQuODEtNC4xMmMtLjkxLS45OTgtMS45LTIuMDA4LTIuOTYtMy4wMDh6IiBmaWxsPSIjMzc0NzRmIi8+PHBhdGggaWQ9IlNoYXBlIiBkPSJtMjEuMyAxMi41OGMtLjA0NTE2MDYuMDMwODg4MS0uMDg4NTYxNC4wNjQyNzMzLS4xMy4xbC05LjA3IDcuNDJjLS4xMTcyMTYyLjA5ODk2NC0uMjI3NDc3MS4yMDU4ODM2LS4zMy4zMmwtMS4yNC0zLjA5Yy0uMzE2MDM1OS0uNzkwNDkxNS0uMDk1MDY5NC0xLjY5NDQ0NTQuNTUtMi4yNWwuMDEtLjAxIDQuODEtNC4xMi4wMS0uMDFjLjY1MjcxMzItLjU2MTEwMDMgMS41OTEyMTMyLS42NDE2NTgyIDIuMzMtLjJ6IiBmaWxsPSIjYzgxZTFlIi8+PHBhdGggaWQ9IlNoYXBlIiBkPSJtMzEuNDE0IDQwIDkuMjkzLTkuMjkzYy4zNzg5NzIyLS4zOTIzNzg5LjM3MzU1MjQtMS4wMTYwODQ4LS4wMTIxODE0LTEuNDAxODE4NnMtMS4wMDk0Mzk3LS4zOTExNTM2LTEuNDAxODE4Ni0uMDEyMTgxNGwtOS4yOTMgOS4yOTMtOS4yOTMtOS4yOTNjLS4zOTIzNzg5LS4zNzg5NzIyLTEuMDE2MDg0OC0uMzczNTUyNC0xLjQwMTgxODYuMDEyMTgxNHMtLjM5MTE1MzYgMS4wMDk0Mzk3LS4wMTIxODE0IDEuNDAxODE4Nmw5LjI5MyA5LjI5My05LjI5MyA5LjI5M2MtLjI1OTk1NjYuMjUxMDc0NS0uMzY0MjEyNi42MjI4Nzc5LS4yNzI2OTcyLjk3MjUwNzMuMDkxNTE1NS4zNDk2Mjk1LjM2NDU2MDQuNjIyNjc0NC43MTQxODk5LjcxNDE4OTkuMzQ5NjI5NC4wOTE1MTU0LjcyMTQzMjgtLjAxMjc0MDYuOTcyNTA3My0uMjcyNjk3Mmw5LjI5My05LjI5MyA5LjI5MyA5LjI5M2MuMzkyMzc4OS4zNzg5NzIyIDEuMDE2MDg0OC4zNzM1NTI0IDEuNDAxODE4Ni0uMDEyMTgxNHMuMzkxMTUzNi0xLjAwOTQzOTcuMDEyMTgxNC0xLjQwMTgxODZ6IiBmaWxsPSIjZjVmNWY1Ii8+PHBhdGggaWQ9IlNoYXBlIiBkPSJtMTggMjJjLS40MjA4NzQ1LS4wMDAxODkzLS43OTY1ODM5LS4yNjM4Nzk4LS45Mzk4Mzk2LS42NTk2MjM3LS4xNDMyNTU3LS4zOTU3NDM4LS4wMjMzOTIxLS44Mzg4MjczLjI5OTgzOTYtMS4xMDgzNzYzbDYtNWMuMTc5NjM1Ny0uMTQ5ODAxNy40MDYwOTkzLS4yMzE4OTQ4LjY0LS4yMzJoMTFjLjU1MjI4NDcgMCAxIC40NDc3MTUzIDEgMXMtLjQ0NzcxNTMgMS0xIDFoLTEwLjYzOGwtNS43MjIgNC43NjhjLS4xNzk2MzU3LjE0OTgwMTctLjQwNjA5OTMuMjMxODk0OC0uNjQuMjMyeiIgZmlsbD0iI2Y1ZjVmNSIvPjxnIGZpbGw9IiMwMDAiPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTQzIDI1aC0yNmMtMS4xMDQ1Njk1IDAtMiAuODk1NDMwNS0yIDJ2MjZjMCAxLjEwNDU2OTUuODk1NDMwNSAyIDIgMmgyNmMxLjEwNDU2OTUgMCAyLS44OTU0MzA1IDItMnYtMjZjMC0xLjEwNDU2OTUtLjg5NTQzMDUtMi0yLTJ6bS0yNiAyOHYtMjZoMjZ2MjZ6Ii8+PHBhdGggaWQ9IlNoYXBlIiBkPSJtLjk0MSA2LjQ2OWMxLjEzODkxNTI0Ljc4Njk2NjI3IDIuMjI1MjI2MzcgMS42NDc0NjM2NSAzLjI1MiAyLjU3NiAxLjI5ODMwODI4IDEuMTcyMDIwNyAyLjUzMTE3MDMxIDIuNDE0NTY0IDMuNjkzIDMuNzIyLjcxNS44MjEgMS4zMzYgMS41NzcgMS45MTcgMi4zMTMtLjQ2Njg4OTc1Ljc5NjkyODUtLjU0MDY2NTQzIDEuNzY0NDk2NS0uMiAyLjYyM2wxLjAzOSAyLjU4OWMtLjQxMjk3OTEuNjM0MTQwMS0uNjM1NzU3OCAxLjM3MzI2Ni0uNjQyIDIuMTN2MzMuNTc4YzAgMi4yMDkxMzkgMS43OTA4NjEgNCA0IDRoMzJjMi4yMDkxMzkgMCA0LTEuNzkwODYxIDQtNHYtNDYuNWMtLjAwNTUxMDQtNC42OTIxMzU5OC0zLjgwNzg2NC04LjQ5NDQ4OTU2LTguNS04LjVoLTExYy00LjY5MjEzNi4wMDU1MTA0NC04LjQ5NDQ4OTYgMy44MDc4NjQwMi04LjUgOC41djEuNjYxYy0uMjM2Mzc2LjA2NTIwMTctLjQ2NjA2MzMuMTUyNTktLjY4Ni4yNjFsLTIuNTYzLTEuNTQxYy0uODA5NjMyOS0uNDg0Mzc1MDYtMS44MDAzMDEzLS41NTg0OTkxNS0yLjY3My0uMi0uNzg0LS44MzctMS42LTEuNjY3LTIuNDU0LTIuNDc0LTEuNDkyODA2LTEuNDA5MzE2NjktMy4wNjE4MzItMi43MzU2NDQ0My00LjctMy45NzMtMS40MjEzMDAxNy0xLjA3NjAzMjk4LTIuOTE3NDE2ODQtMi4wNDk0OTQ2NC00LjQ3Ny0yLjkxMy0uOTcwMTg3NDktLjUxNzYwNjAzLTIuMTc2MjYxMTItLjE1NDg5MDU2LTIuNy44MTJsLTEuNDU3IDIuNjk0Yy0uNTA3ODIzODIuOTE1MzMwMS0uMjIzOTUxMDEgMi4wNjczOTE0OC42NTEgMi42NDJ6bTQ3LjA1OSA0OS41MzFjMCAxLjEwNDU2OTUtLjg5NTQzMDUgMi0yIDJoLTMyYy0xLjEwNDU2OTUgMC0yLS44OTU0MzA1LTItMnYtMzMuNTc4Yy0uMDAxNDQwNC0uNjAwMDk3My4yNjc4NjQxLTEuMTY4ODMzMi43MzMtMS41NDhsOS4wNzItNy40MjJjLjM1NzQxNDQtLjI5MTg1OTMuODA0NTYwMi0uNDUxNTAzOCAxLjI2Ni0uNDUyaDE4LjQ0bDYuNDg5IDguMzQzem0tNy00NWgtMTJ2LTEuNWMwLS44Mjg0MjcxMi42NzE1NzI5LTEuNSAxLjUtMS41aDljLjgyODQyNzEgMCAxLjUuNjcxNTcyODggMS41IDEuNXptLTEwLjUtOGgxMWMzLjU4ODAyMzUuMDA0NDA3OSA2LjQ5NTU5MjEgMi45MTE5NzY1MiA2LjUgNi41djguNTg1bC01LTYuNDI4di0yLjE1N2MwLTEuOTMyOTk2NjItMS41NjcwMDM0LTMuNS0zLjUtMy41aC05Yy0xLjkzMjk5NjYgMC0zLjUgMS41NjcwMDMzOC0zLjUgMy41djEuNWgtM3YtMS41Yy4wMDQ0MDc5LTMuNTg4MDIzNDggMi45MTE5NzY1LTYuNDk1NTkyMSA2LjUtNi41em0tMTIuNzc1IDguNiAxLjgzOCAxLjEtNy4zODcgNi4wNDQtLjcxOC0xLjc4N2MtLjE1ODIzMjEtLjM5NjcwNjgtLjA0NTA3MTctLjg1MDE1NDEuMjgxLTEuMTI2bC4wMjgtLjAyNiA0LjgtNC4xMWMuMzI2MTI0Mi0uMjc1NjY0NC43OTEzMDg3LS4zMTM4MjcyIDEuMTU4LS4wOTV6bS0zLjI3My0uNzIzLTMuMjM0IDIuNzcyYy0uNTYtLjctMS4xNTItMS40MjItMS44MzMtMi4ybC0uMDM4LS4wNDEgMy4wMS0yLjYzM2MuNzI2LjY4MiAxLjQyMSAxLjM4OCAyLjA5NSAyLjA5OXptLTMuNTgyLTMuNDY2LTIuODg4IDIuNTI2Yy0uODIyLS44NTQtMS42My0xLjY0My0yLjQzOS0yLjM2OGwyLjI3OC0yLjY1OWMxLjAwNy43NiAyLjAxNiAxLjU5IDMuMDQ5IDIuNTAxem0tNy4zNzYtNS4zMzFjLjkyNjQxMTQzLjUwNjkzMDY1IDEuODI1NjQyNTcgMS4wNjIwMjM5NiAyLjY5NCAxLjY2M2wtMi4xNjcgMi41MjljLS41OTItLjQ4LTEuMjYzLS45OS0xLjk4Mi0xLjQ3NnoiLz48L2c+PC9nPjwvZz48L3N2Zz4="; 










// There is a car with 30L of petrol.
let petrol = 30,
endingPoint = 100,// It needs to travel from 0 to 100 KMs.
currentPosition= 0,
petrolPumpArray = [],
moves = 0,
carPassingCounter = 0;

const getRndInteger = (min, max) =>
  Math.floor(Math.random() * (max - min)) + min;

const startButton = document.querySelector("#start");
const moveButton = document.querySelector("#move");
const carImage = document.querySelector("#car-image");
const petrolBunkElement = document.querySelector("#petrol-bunk");
const resultDiv = document.querySelector("#result");
const resultH1 = document.querySelector("#result h1");
const moveVal = document.querySelector("#moveVal");
const positionVal = document.querySelector("#positionVal");
const petrolVal = document.querySelector("#petrolVal");
moveButton.disabled = true;


// Add a button on the page "Start" which should start the game.
startButton.addEventListener("click", () => {
  carPassingCounter = 0;
  console.log("Game Started");
  moveVal.innerHTML = 0;
  movesCount = 0;
  petrolBunkElement.innerHTML = "";
  resultDiv.style.background = "white";
  resultH1.innerHTML = "";
  carImage.style.transform = "translateX(0px)";
  petrolPumpArray = [];
  currentPos = 0;
  petrol = 30;
  
  
  // You can place 5 random petrol pumps on the road.
  for (let i = 0; i < 5; i++) {
    let randomNumber = getRndInteger(i * 20, i * 20 + 10);
    petrolPumpArray.push(randomNumber);
  }
  if (petrolPumpArray[0] === 0) {
    petrolPumpArray[0] = getRndInteger(1, 11);
  }

  positionVal.innerHTML = `${currentPos} km`;
  petrolVal.innerHTML = `${petrol} lit`;
  moveButton.disabled = false;
        for (let i = 0; i < 5; i++) {
          const img = document.createElement("img");
          const div = document.createElement("div");
          const p = document.createElement("p");
          img.src= image;
          div.style.left = `${(window.innerWidth / 100) * petrolPumpArray[i]}px`;
          p.innerHTML = `${petrolPumpArray[i]}km`;
          div.classList.add("generated-petrol");
          div.append(img);
          div.append(p);
          petrolBunkElement.append(div);
        }
});

moveButton.addEventListener("click", () => {
  movesCount++;
  moveVal.innerHTML = `${movesCount}`;
  
   // The car moves in steps, at each step car can move between 0 KM to 6 KM (generate a random number).
  
  let randomNumber = getRndInteger(1, 7);
  currentPos += randomNumber;
  
// The car has a mileage of 1 KM/L.
  petrol -= randomNumber;
      if (petrol < 0) {
        resultH1.innerHTML = "Game Over!";
        resultDiv.style.background = "red";
        moveButton.disabled = true;
        console.log(
          `Move ${movesCount} - Car at ${currentPos}, petrol remaining ${petrol}, game over`
        );
        return;
      }
  
  // Every time the car reaches the petrol pump exactly, the car gets a refill of 20 L.
  if (currentPos >= petrolPumpArray[carPassingCounter]) {
        petrol += 20;
        carPassingCounter++;
      }
  carImage.style.transform = `translateX(${
    (window.innerWidth / 100) * currentPos
  }px)`;
  positionVal.innerHTML = `${currentPos} km`;
  petrolVal.innerHTML = `${petrol} lit`;
  
  // Print the result of the game in the document window.
  
  if (currentPos >= endingPoint) {
    resultH1.innerHTML = 'Finished';
    resultDiv.style.background = "green";
    moveButton.disabled = true;
    console.log(`Move ${movesCount} - Car at ${currentPos}, petrol remaining ${petrol}, reached`)
    
    return;
  }
  
// Write a JavaScript code to run this game and print every step of the car with the current position, petrol remaining.
   console.log(`Move ${movesCount} - Car at ${currentPos}, petrol remaining ${petrol}`)
 
});
